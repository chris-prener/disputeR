<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Opinionated Approach to Validating Function Arguments • disputeR</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Opinionated Approach to Validating Function Arguments">
<meta name="description" content="A number of packages exist to implement unit tests, either generally within R or specifically for functions. Most of these packages take a similar approach, providing users a framework with which they can write their own validation tests. In contrast, disputeR provides pre-written sets of tests that can be easily added to functions or Shiny modules with minimal additional code. These tests return informative error messages that follow the tidyverse style guide's recommendations.">
<meta property="og:description" content="A number of packages exist to implement unit tests, either generally within R or specifically for functions. Most of these packages take a similar approach, providing users a framework with which they can write their own validation tests. In contrast, disputeR provides pre-written sets of tests that can be easily added to functions or Shiny modules with minimal additional code. These tests return informative error messages that follow the tidyverse style guide's recommendations.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">disputeR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/chris-prener/disputeR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="disputer">disputeR<a class="anchor" aria-label="anchor" href="#disputer"></a>
</h1></div>
<!-- badges: start -->
<!-- badges: end -->
<p>The goal of <code>disputeR</code> is to easily implement unit tests within functions and Shiny modules. Unlike other packages that provide frameworks for developing these tests, <code>disputeR</code> takes a different approach, offering pre-built unit tests that can easily be dropped into functions and test for basic requirements, like class, length, and common values used in function writing (such as <code>NULL</code>). These tests return informative error messages that follow the ‘tidyverse’ style guide’s recommendations.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of disputeR from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"chris-prener/disputeR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h2>
<p>The following example creates a simple function for squaring a numeric value, which is passsed to the function using the parameter <code>x</code>. Two <code>disputeR</code> functions are added before squaring <code>x</code>. The first, <code><a href="reference/dis_not_missing.html">dis_not_missing()</a></code>, evaluates <code>x</code> to ensure the parameter is not skipped by the user. The second, <code><a href="reference/dis_numeric.html">dis_numeric()</a></code>, applies a number of checks to <code>x</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## load package</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://chris-prener.github.io/disputeR/">disputeR</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">## define example function</span></span>
<span><span class="va">example</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span></span>
<span>   <span class="co">## check inputs with disputeR</span></span>
<span>   <span class="fu"><a href="reference/dis_not_missing.html">dis_not_missing</a></span><span class="op">(</span>.f <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>   <span class="fu"><a href="reference/dis_numeric.html">dis_numeric</a></span><span class="op">(</span><span class="va">x</span>, null_valid <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span>   <span class="co">## square</span></span>
<span>   <span class="va">out</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span></span>
<span></span>
<span>   <span class="co">## return output</span></span>
<span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The checks <code><a href="reference/dis_numeric.html">dis_numeric()</a></code> applies include default settings that require a scalar input (i.e. <code>length(x) == 1</code>) and do not allow <code>NA</code>, <code>NaN</code>, <code>Inf</code>, or <code>-Inf</code>. Each of these can be enabled using the parameters for <code><a href="reference/dis_numeric.html">dis_numeric()</a></code> at the function author’s discretion. In addition, we enforce a requirement that <code>x</code> cannot be <code>NULL</code>.</p>
<p>In the case of the following example, <code>2</code> is a valid input to <code><a href="https://rdrr.io/r/utils/example.html" class="external-link">example()</a></code> and the function executes without error:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/example.html" class="external-link">example</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 4</span></span></code></pre></div>
<p>However, if the user does not specify the <code>x</code> argument, an informative error message is returned along with instructions for how to rectify the issue:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/example.html" class="external-link">example</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `example()`:</span></span>
<span><span class="co">#&gt; ! `x` must be provided but is missing.</span></span>
<span><span class="co">#&gt; ℹ Add an argument for `x` to the function call.</span></span></code></pre></div>
<p>Likewise, if <code>x</code> is incorrectly specified (such as with a <code>class(x) == character</code> value), a similar message along with instructions for fixing the error is returned:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/example.html" class="external-link">example</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"test"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `dis_msg_class()`:</span></span>
<span><span class="co">#&gt; ! `param` must be provided but is missing.</span></span>
<span><span class="co">#&gt; ℹ Add an argument for `param` to the function call.</span></span></code></pre></div>
<p>A similar approach can be taken for both character and logical arguments. For example :</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">round</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span><span class="op">{</span></span>
<span></span>
<span>   <span class="co">## check inputs with disputeR</span></span>
<span>   <span class="fu"><a href="reference/dis_not_missing.html">dis_not_missing</a></span><span class="op">(</span>.f <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>   <span class="fu"><a href="reference/dis_numeric.html">dis_numeric</a></span><span class="op">(</span><span class="va">x</span>, null_valid <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span>   <span class="fu"><a href="reference/dis_logical.html">dis_logical</a></span><span class="op">(</span><span class="va">round</span>, null_valid <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span>   <span class="co">## square</span></span>
<span>   <span class="va">out</span> <span class="op">&lt;-</span> <span class="va">x</span><span class="op">^</span><span class="fl">2</span></span>
<span>   </span>
<span>   <span class="co">## optionally round</span></span>
<span>   <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Logic.html" class="external-link">isTRUE</a></span><span class="op">(</span><span class="va">round</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>     <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">out</span>, digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span>   <span class="op">}</span></span>
<span></span>
<span>   <span class="co">## return output</span></span>
<span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The use of <code><a href="reference/dis_logical.html">dis_logical()</a></code> ensures that a non-<code>NULL</code>, logical argument (either <code>TRUE</code> or <code>FALSE</code>) is passed to the <code>round</code> parameter. This allows us to validate or dispute user inputs:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## no issues</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/example.html" class="external-link">example</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2.25</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5.0625</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/example.html" class="external-link">example</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2.25</span>, round <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 5.06</span></span>
<span></span>
<span><span class="co">## error found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/example.html" class="external-link">example</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fl">2.25</span>, round <span class="op">=</span> <span class="st">"yes"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `dis_msg_class()`:</span></span>
<span><span class="co">#&gt; ! `param` must be provided but is missing.</span></span>
<span><span class="co">#&gt; ℹ Add an argument for `param` to the function call.</span></span></code></pre></div>
<p>Both <code><a href="reference/dis_numeric.html">dis_numeric()</a></code> and <code><a href="reference/dis_character.html">dis_character()</a></code> also accept strings of valid values. The following function allows for only certain words to be passed to the <code>x</code> parameter:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">example</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span>
<span></span>
<span>   <span class="co">## check inputs with disputeR</span></span>
<span>   <span class="fu"><a href="reference/dis_not_missing.html">dis_not_missing</a></span><span class="op">(</span>.f <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/missing.html" class="external-link">missing</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span>   <span class="fu"><a href="reference/dis_character.html">dis_character</a></span><span class="op">(</span><span class="va">x</span>, valid <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ham"</span>, <span class="st">"eggs"</span>, <span class="st">"bacon"</span><span class="op">)</span>, null_valid <span class="op">=</span> <span class="cn">FALSE</span>,<span class="op">)</span></span>
<span></span>
<span>   <span class="co">## create output</span></span>
<span>   <span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">x</span>, <span class="st">" is delicious!"</span><span class="op">)</span></span>
<span></span>
<span>   <span class="co">## return output</span></span>
<span>   <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span>
<span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The value for <code>x</code> will be checked against the vector passed to the <code>valid</code> parameter in addition to the other checks that <code><a href="reference/dis_character.html">dis_character()</a></code> performs:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## no issues</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/example.html" class="external-link">example</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"bacon"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "bacon is delicious!"</span></span>
<span></span>
<span><span class="co">## error found</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/example.html" class="external-link">example</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">"spam"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in `example()`:</span></span>
<span><span class="co">#&gt; ! `x` must be a valid value for the parameter `x`, not `spam`.</span></span>
<span><span class="co">#&gt; ℹ Valid arguments for `x` are: `ham`, `eggs`, and `bacon`.</span></span></code></pre></div>
<p>The <code>valid</code> argument works the same way with <code><a href="reference/dis_numeric.html">dis_numeric()</a></code>, passing either integer or numeric values to <code>valid</code> instead of character data.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the disputeR project is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/chris-prener/disputeR/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/chris-prener/disputeR/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing disputeR</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Christopher Prener <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4310-9888" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Timothy Wiemken <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-8251-3007" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christopher Prener, Timothy Wiemken.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
